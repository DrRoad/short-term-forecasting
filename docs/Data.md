<!-- 
- [Data](#data)
  - [Folder navigation](#folder-navigation)
  - [Generation and load data](#generation-and-load-data)
    - [Actual generation per production type](#actual-generation-per-production-type)
    - [Installed capacity per production unit](#installed-capacity-per-production-unit)
    - [Load](#load)
    - [Extracting data through ENTSO-E Transparency Platform's Restful API](#extracting-data-through-entso-e-transparency-platforms-restful-api)
  - [Market data](#market-data)
    - [REMIT UMM](#remit-umm)
  - [Meteorological data](#meteorological-data)
  - [Territorial units](#territorial-units)
  - [Terms of use](#terms-of-use)
 -->


# Data

All input and output data can be found in the [data](https://www.dropbox.com/sh/vjo4gkfk6dlye6h/AAAQNltY7-Y4N9SQYjGZDHY5a?dl=0) folder on Dropbox. Licenses and terms of the input data used can be found in their corresponding folders.

## Folder navigation

* **entsoe-api** - generation and load data at TSO level for each bidding zone, downloaded from the ENTSO-E Transparency Platform
* **met** - meteorological data, grouped by country, downloaded from country-specific meteorological services
* **nuts** - territorial units, downloaded from Eurostat
* **output** - output data


## Generation and load data

Generation and load data for each bidding zone are downloaded from the ENTSO-E Transparency Platform [@ENTSO]. The following descriptions of the data are from ENTSO-E Transparency Platform's Knowledge Base [@Help]. Three types of data will be used. 

### Actual generation per production type

- Actual aggregated net generation output (MW) per market time unit and per production type
- Published no later than one hour after the operational period
- Computed as the average of all available instantaneous net generation output values on each market time unit
- If unknown, it is estimated 
- The actual generation of small-scale units might be estimated if no real-time measurement devices exist

### Installed capacity per production unit

This data contains information about production units (existing and planned) with an installed generation capacity of at least 100 MW, which includes the following:

- unit name
- code
- installed net generation capacity (MW)
- voltage connection level (kV)
- bidding zone (denoted using Energy Identification Codes (EICs))
- production type (e.g., fossil gas, wind offshore)

This information is published annually at the start of the year and is valid for the three following years.

<!-- #### [Installed Capacity per Production Type](https://transparency.entsoe.eu/generation/r2/installedGenerationCapacityAggregation/show)

The sum of installed net generation capacity (MW) per control area for all existing production units equalling to or exceeding 1 MW installed generation capacity, per production type. The information shall be published annually no later than one week before the end of the previous year. The installed net generation capacity refers to to the generation capacity which is effectively installed on January 1st of the following year.

**Incomplete data**: 

- Data for Sweden is unavailable at the bidding zone level for 2018 and 2019 (last checked on 15/08/2019) -->

### Load

- Actual total load per bidding zone per market time unit
- The total load is defined as equal to the sum of power generated by plants on both TSO/DNO networks, from which is deduced:
  - the balance (export-import) of exchanges on interconnections between neighbouring bidding zones
  - the power absorbed by energy storage resources
- The information is published no later than one hour after the end of the operating period
- Calculated using the average of real-time load values per bidding zone per market time unit
- Actual total Load (including losses without stored energy) = Net Generation – Exports + Imports – Absorbed Energy
- Net generation is preferred, but gross generation could be used where it is available with the better precision
- TSOs should decide gross or net generation will be used but the net/gross characteristic should be consistent per bidding zone
- Absorbed energy is also provided as separate information with the aggregated generation output of the hydro pumped storage
- The physical flow on the tie line is measured as agreed by neighbouring TSOs or bidding zones, where applicable

### Extracting data through ENTSO-E Transparency Platform's Restful API

ENTSO-E Transparency Platform's RESTful application programming interface (API) can be used to automate the data extraction process [@ENTSO16], [@Trans]. Registration to the transparency platform is required to access the API. The security token can be requested by sending an email to the ENTSO-E Helpdesk. 

The ENTSO-E API Python client [@Energ19] is used to easily query the required data and return them as Pandas dataframes or series. The queries for generation and installed generation capacity per unit return dataframes, while the query for load returns a series. [`entsoe_api.py`](https://github.com/ENSYSTRA/short-term-forecasting/blob/master/scripts/entsoe_api.py) is the script used to perform this. 

```python
import pandas as pd
from entsoe import EntsoePandasClient
from entsoe.mappings import DOMAIN_MAPPINGS, BIDDING_ZONES
# combine domain and bidding zone keys and values into the DOMAIN_MAPPINGS dictionary
DOMAIN_MAPPINGS.update(BIDDING_ZONES) 
```

```python
# import security token saved in a separate file (login.py)
from login import token
# use security token to access the api through the entsoe pandas client
client = EntsoePandasClient(api_key=token)
```

The bidding zones in the North Sea region, mapped to their corresponding EICs as shown in @tbl:eic, are used when querying using the Pandas client. Note that `DE-LU` only works for timestamps starting 01/10/2018. Use `DE-AT-LU` for timestamps prior to this date.

**Bidding zone** | **EIC**
--- | ---
BE | 10YBE----------2
DE-LU | 10Y1001A1001A82H
DK-1 | 10YDK-1--------W
DK-2 | 10YDK-2--------M
FR | 10YFR-RTE------C
GB | 10YGB----------A
IE-SEM | 10Y1001A1001A59C
NL | 10YNL----------L
NO-1 | 10YNO-1--------2
NO-2 | 10YNO-2--------T
NO-3 | 10YNO-3--------J
NO-4 | 10YNO-4--------9
NO-5 | 10Y1001A1001A48H
SE-1 | 10Y1001A1001A44P
SE-2 | 10Y1001A1001A45N
SE-3 | 10Y1001A1001A46L
SE-4 | 10Y1001A1001A47

: Bidding zones in the North Sea region and their corresponding EICs. {#tbl:eic}


## Market data

[Nord Pool](https://www.nordpoolgroup.com/historical-market-data/)

Historical market data from Nord Pool is stored as `.xls` files can be accessed using the following URL: 

```
https://www.nordpoolgroup.com/globalassets/marketdata-excel-files/FILENAME.xls
```

* [Membership list - Nord Pool](https://www.nordpoolgroup.com/trading/join-our-markets/membership/)
* [Terms and conditions for use](https://www.nordpoolgroup.com/About-us/Terms-and-conditions-for-use/)

[EPEX Spot](https://www.epexspot.com/en/extras/download-center/market_data)

* [EPEX SPOT Exchange Members](https://www.epexspot.com/en/membership/list_of_members)

### REMIT UMM

REMIT Urgent Market Messaging (UMM) is used by market operators and companies involved in balancing and settlements, including Nord Pool and ELEXON, for market members and participants to publish information on outages in production, consumption and transmission and other relevant market information according to European transparency regulations [@REMIT16], [@NordP], [@Abouta], [@Aboutb], [@Publi]. The information is publicly available and is classified as follows:

- Event
  - Unavailability of electrical facilities (production, consumption, transmission)
  - Market information
- Infrastructure (the electrical facility(ies) that are affected)
- Areas (bidding zone and/or country and/or control area)
- Types of unavailability (planned or unplanned)
- Stations (production and consumption units)
- Fuel types (same as the production units used by ENTSO-E)
- Connections (between control areas and/or bidding zone)
- Status (active or cancelled)
- Publishers (companies that publish the information)
- Market participants
- Publication time
- Event start and stop time
- Duration of event
- Unavailable capacity (MW)
- Available capacity (MW)
- Assets (grid components, e.g., AC link, DC link, transformer, substation)
- Remarks

## Meteorological data 

#### Belgium

[The Royal Meteorological Institute of Belgium](https://opendata.meteo.be/)

#### Germany

Deutscher Wetterdienst [@Wette]

[Hourly wind data](https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/hourly/wind/)

<!-- * [CDC (Climate Data Center) portal](https://cdc.dwd.de/portal/)
* [CDC OpenData](https://opendata.dwd.de/climate_environment/CDC/)
* Data set descriptions
  * [Hourly station observations of air temperature at 2 m above ground in °C for Germany](https://cdc.dwd.de/sdi/pid/TT_TU_MN009/DESCRIPTION_TT_TU_MN009_en.pdf)
  * [Hourly station observations of relative humidity in % for Germany](https://cdc.dwd.de/sdi/pid/RF_TU_MN009/DESCRIPTION_RF_TU_MN009_en.pdf)
  * [Hourly station observations of precipitation amount in mm for Germany](https://cdc.dwd.de/sdi/pid/R1_MN008/DESCRIPTION_R1_MN008_en.pdf)
  * [Hourly station observations of form of precipitation (WR code) for Germany](https://cdc.dwd.de/sdi/pid/WRTR_MN008/DESCRIPTION_WRTR_MN008_en.pdf)
  * [Hourly station observations of index whether precipitation has fallen for Germany](https://cdc.dwd.de/sdi/pid/RS_IND_MN008/DESCRIPTION_RS_IND_MN008_en.pdf)
  * [Hourly mean of station observations of wind speed ca. 10 m above ground in m/s for Germany](https://cdc.dwd.de/sdi/pid/F_MN003/DESCRIPTION_F_MN003_en.pdf)
  * [Hourly mean of station observations of wind direction at ca. 10 m above ground in degree for Germany](https://cdc.dwd.de/sdi/pid/D_MN003/DESCRIPTION_D_MN003_en.pdf)
  * [Hourly station observations of air pressure at station level in hpa for Germany](https://cdc.dwd.de/sdi/pid/P0_MN008/DESCRIPTION_P0_MN008_en.pdf)
  * [Hourly station observations of air pressure at mean sea level in hpa for Germany](https://cdc.dwd.de/sdi/pid/P_MN008/DESCRIPTION_P_MN008_en.pdf)
  * [Hourly station observations of cloud coverage in eighths for Germany](https://cdc.dwd.de/sdi/pid/N_MN008/DESCRIPTION_N_MN008_en.pdf)
  -->

#### Denmark

[Danish Meteorological Institute](http://research.dmi.dk/data/)

#### France

[Météo-France](https://donneespubliques.meteofrance.fr/)

#### Netherlands

[Royal Netherlands Meteorological Institute](https://data.knmi.nl/datasets)

#### Norway

[Norwegian Meteorological Institute](https://www.met.no/en/free-meteorological-data)

#### Sweden

[Swedish Meteorological and Hydrological Institute](https://www.smhi.se/en/services/professional-services/data-and-statistics)

#### United Kingdom

[Met Office](https://www.metoffice.gov.uk/datapoint)


## Territorial units

[NUTS (Nomenclature of territorial units for statistics)](https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts)


## Terms of use

#### Deutscher Wetterdienst

* [Terms of use for data on the CDC ftp server](https://opendata.dwd.de/climate_environment/CDC/Terms_of_use.pdf)

#### ENTSO-E Transparency Platform

* [GENERAL TERMS AND CONDITIONS FOR THE USE OF THE ENTSO-E TRANSPARENCY PLATFORM](https://docstore.entsoe.eu/Documents/MC%20documents/Transparency%20Platform/ENTSOE_Transparency_Terms_Conditions.pdf)
* [LIST OF DATA AVAILABLE FOR FREE RE-USE](https://docstore.entsoe.eu/Documents/MC%20documents/Transparency%20Platform/List_of_Data_available_for_reuse.pdf)
